(this["webpackJsonpfarm-hand"]=this["webpackJsonpfarm-hand"]||[]).push([[0],{44:function(t,e,n){t.exports=n(68)},50:function(t,e,n){},51:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var r,a=n(0),c=n.n(a),u=n(33),i=n.n(u),o=(n(49),n(50),n(51),n(16)),l=n(6),m=n(41),s=n(8),f=n(7),p=n(74),v=n(69),d=n(70),b=n(71),h=n(73),y=n(75),j=n(72),g=n(76),O=n(34),E=n.n(O),w=n(4),x=n.n(w),k=n(9);!function(t){t.Weapon="Weapon",t.Armor="Armor",t.Charm="Charm"}(r||(r={}));var N,q=function(t){var e,n,r,a,c,u,i=(null===(e=t.crafting)||void 0===e?void 0:e.craftable)?null===(n=t.crafting)||void 0===n?void 0:n.craftingMaterials:null===(r=t.crafting)||void 0===r?void 0:r.upgradeMaterials,o={previous:null===(a=t.crafting)||void 0===a?void 0:a.previous,branches:null===(c=t.crafting)||void 0===c?void 0:c.branches,craftable:null===(u=t.crafting)||void 0===u?void 0:u.craftable,craftingMaterials:i.map((function(t){var e,n;return{quantity:t.quantity,itemID:null===(e=t.item)||void 0===e?void 0:e.id,itemName:null===(n=t.item)||void 0===n?void 0:n.name}}))};return{id:t.id,name:t.name,type:t.type,rarity:t.rarity,crafting:o}},C=function(t){var e;return{id:t.id,name:t.name,rarity:t.rarity,type:t.type,crafting:null===(e=t.crafting)||void 0===e?void 0:e.materials.map((function(t){var e,n;return{quantity:t.quantity,itemID:null===(e=t.item)||void 0===e?void 0:e.id,itemName:null===(n=t.item)||void 0===n?void 0:n.name}}))}},S=function(t){var e=t.ranks.map((function(t){var e,n;return{level:t.level,rarity:t.rarity,crafting:null===(e=t.crafting)||void 0===e||null===(n=e.materials)||void 0===n?void 0:n.map((function(t){var e,n;return{quantity:t.quantity,itemID:null===(e=t.item)||void 0===e?void 0:e.id,itemName:null===(n=t.item)||void 0===n?void 0:n.name}}))}}));return{id:t.id,name:t.name,type:"charm",ranks:e}},A={Weapon:"https://mhw-db.com/weapons",Armor:"https://mhw-db.com/armor",Charm:"https://mhw-db.com/charms"},I=function(t){return A[t]},M=function(t){return'?q={"name": {"$like":"'.concat(t,'%"}}')},W=function(t,e){var n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],u=r[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),l=o[0],m=o[1],f=Object(a.useState)(),p=Object(s.a)(f,2),v=p[0],d=p[1];return[l,c,function(){var n=Object(k.a)(x.a.mark((function n(r){var a,c,i,o,l;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==r){n.next=5;break}return u(""),d(void 0),m(!1),n.abrupt("return",[]);case 5:return m(!0),u(r),a=I(t),c=a.concat(M(r)),n.next=11,fetch(c);case 11:return i=n.sent,n.next=14,i.json();case 14:return o=n.sent,console.log(o),l=o.map((function(t){return e(t)})),d(l),m(!1),n.abrupt("return",l);case 20:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),v]},B=function(){var t=Object(a.useState)(),e=Object(s.a)(t,2),n=e[0],c=e[1],u=Object(a.useState)(""),i=Object(s.a)(u,2),o=i[0],l=i[1],m=Object(a.useState)(!1),f=Object(s.a)(m,2),p=f[0],v=f[1],d=W(r.Weapon,q),b=W(r.Armor,C),h=W(r.Charm,S),y=function(){var t=Object(k.a)(x.a.mark((function t(e){var n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Promise.all([d[2](e),b[2](e),h[2](e)]),t.next=3,n;case 3:r=t.sent,c({weapon:r[0],armor:r[1],charm:r[2]}),v(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return[p,o,function(t){v(!0),l(t),y(t)},n]};!function(t){t.Low="low",t.High="high",t.Master="master"}(N||(N={}));var D=function(t,e){var n=function(e){return t?"".concat(e,"-active"):e};switch(e){case N.Low:return n("low-rank-bg");case N.High:return n("high-rank-bg");case N.Master:return n("master-rank-bg")}},z=function(t){var e,n=t.item,r=t.isSelected,a=t.onClick;return c.a.createElement(p.a,{className:"my-3 ".concat(D(r,(e=n.rarity,function(t){return t<5}(e)?N.Low:function(t){return t>=5&&t<9}(e)?N.High:N.Master))),onClick:a},c.a.createElement(p.a.Body,null,c.a.createElement(v.a,null,c.a.createElement(d.a,{className:"text-left text-capitalize"},n.name),c.a.createElement(d.a,{className:"text-right text-capitalize"},n.type," | ",n.rarity))))},H=function(t,e){return[t,e]},L=function(){var t=B(),e=Object(s.a)(t,4),n=e[0],r=(e[1],e[2]),u=e[3],i=Object(a.useState)(),o=Object(s.a)(i,2),v=o[0],d=o[1],O=Object(l.f)(),w=Object(a.useRef)(E()(r,500)).current,x=n?c.a.createElement(b.a,{animation:"border"}):null,k=(null===u||void 0===u?void 0:u.weapon)||[],N=(null===u||void 0===u?void 0:u.armor)||[],q=(null===u||void 0===u?void 0:u.charm)?(null===u||void 0===u?void 0:u.charm).map((function(t){return{name:t.name,id:t.id,type:t.type,rarity:Math.max.apply(Math,Object(f.a)(t.ranks.map((function(t){return t.rarity}))))}})):[],C=[].concat(Object(f.a)(k.map((function(t){return H(t,"weapons")}))),Object(f.a)(N.map((function(t){return H(t,"armor")}))),Object(f.a)(q.map((function(t){return H(t,"charms")}))));C.sort((function(t,e){return t[0].rarity-e[0].rarity}));var S=v||{},A=Object.keys(S),I=A.map((function(t){var e=Number(t),n=S[e];return c.a.createElement(h.a.Item,null,n[0].name)})),M=0===A.length?null:c.a.createElement(p.a,{className:"sticky-top mt-4"},c.a.createElement(p.a.Header,null,"Build List"),c.a.createElement(p.a.Body,null,c.a.createElement(h.a,{variant:"flush"},I)),c.a.createElement(p.a.Footer,null,c.a.createElement(y.a,{block:!0,onClick:function(){return O.push(function(){var t=Object.keys(S).map((function(t){var e,n=Number(t),r=S[n];return"".concat((e=r[1],e.charAt(0))).concat(n)}));return"/mhw-farmhand/".concat(t.join("+"))}())}},"Build"))),W=function(t,e,n){return t.map((function(t){return c.a.createElement(z,{isSelected:void 0!==e[t[0].id],item:t[0],onClick:function(){return n(t)}})}))}(C,v||{},(function(t){return function(t){var e=Object(m.a)({},v),n=t[0].id;if(e[n])return delete e[n],void d(e);e[n]=t,d(e)}(t)}));return c.a.createElement("div",{className:"row w-100"},c.a.createElement("div",{className:"col-md-3 col-sm-12"},M),c.a.createElement("div",{className:"col-md-6 col-sm-12 mt-4"},c.a.createElement("h1",null,"What are you trying to build?"),c.a.createElement(j.a,{size:"lg"},c.a.createElement(g.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",onChange:function(t){return w(t.target.value)}})),x,W))},P=n(39),G=n(27),J=function(){var t=Object(k.a)(x.a.mark((function t(e,n,r){var a,c,u,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=I(e),c=a.concat("/".concat(r)),t.next=4,fetch(c);case 4:return u=t.sent,t.next=7,u.json();case 7:return i=t.sent,t.abrupt("return",n(i));case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),F=function(){var t=Object(k.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(r.Weapon,q,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(k.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(r.Armor,C,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(){var t=Object(k.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(r.Charm,S,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(k.a)(x.a.mark((function t(e){var n,r,a,c,u=arguments;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:[],t.next=3,F(e);case 3:if(r=t.sent,a=r.crafting.previous,c=[].concat(Object(f.a)(n),[r]),null!==a&&!r.crafting.craftable){t.next=8;break}return t.abrupt("return",c);case 8:return t.t0=[],t.t1=Object(f.a)(c),t.t2=f.a,t.next=13,K(a,n);case 13:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.abrupt("return",t.t0.concat.call(t.t0,t.t1,t.t4));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=function(t){return function t(e,n){if(0===n.length)return e;var r=Object(P.a)(n),a=Object(s.a)(r[0],2),c=a[0],u=a[1],i=r.slice(1),o=[c],l={},m={};u.forEach((function(t){var e=t.itemID;l[e]=t.itemName,m[e]=t.quantity}));var p=i.map((function(t){var e=Object(s.a)(t,2),n=e[0],r=e[1].map((function(t){if(!m[t.itemID])return t;m[t.itemID]+=t.quantity})),a=Object(G.compact)(r);return 0===a.length?(o.push(n),null):[n,a]})),v=Object(G.compact)(p),d=Object.keys(l).map((function(t){return Number(t)})).map((function(t){return{itemID:t,itemName:l[t],quantity:m[t]}})),b={build:o,gather:d};return t([].concat(Object(f.a)(e),[b]),v)}([],Object(f.a)(t).reverse().map((function(t,e){return[e,t]})))},T=function(){var t=Object(k.a)(x.a.mark((function t(e){var n,a,c,u,i,o,l,m,s,p,v,d,b,h,y,j,g,O,E,w,N,q,C;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.filter((function(t){return t[0]===r.Weapon})),a=n.map((function(t){return t[1]})),c=Promise.all(a.map(function(){var t=Object(k.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),t.next=5,c;case 5:return u=t.sent,i=u.length>0?u.reduce((function(t,e){return[].concat(Object(f.a)(t),Object(f.a)(e))})):[],o=i.map((function(t){return{id:t.id,type:t.type,name:t.name,rarity:t.rarity,crafting:t.crafting.craftingMaterials}})),l=e.filter((function(t){return t[0]===r.Armor})),m=l.map((function(t){return t[1]})),s=Promise.all(m.map(function(){var t=Object(k.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),t.next=13,s;case 13:return p=t.sent,v=p.map((function(t){return{id:t.id,name:t.name,type:t.type,rarity:t.rarity,crafting:t.crafting}})),console.log(v),d=e.filter((function(t){return t[0]===r.Charm})),b=d.map((function(t){return t[1]})),h=Promise.all(b.map(function(){var t=Object(k.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),t.next=21,h;case 21:return y=t.sent,j=y.map((function(t){return t.ranks.map((function(e){return{id:t.id,name:t.name,rarity:e.rarity,type:r.Charm,crafting:e.crafting}}))})),g=j.length>0?j.reduce((function(t,e){return[].concat(Object(f.a)(t),Object(f.a)(e))})):[],O=[].concat(Object(f.a)(o),Object(f.a)(v),Object(f.a)(g)),E=O.sort((function(t,e){return e.rarity-t.rarity})),w=E.sort((function(t,e){return e.crafting.length-t.crafting.length})),N=w.map((function(t){return t.crafting})),q=Q(N),C=q.map((function(t,e){return{gather:t.gather,build:t.build.map((function(t){return w[w.length-1-t]}))}})),t.abrupt("return",C);case 31:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U={w:r.Weapon,a:r.Armor,c:r.Charm},V=function(t){var e=t.stepNum,n=t.step;return c.a.createElement(p.a,{className:"my-3"},c.a.createElement(p.a.Header,null,"Step ",e),c.a.createElement(p.a.Body,null,c.a.createElement(v.a,null,c.a.createElement(d.a,{className:"text-left text-capitalize"},c.a.createElement("h3",null,"Gather"),c.a.createElement(h.a,{variant:"flush"},n.gather.map((function(t){return c.a.createElement(h.a.Item,null,t.quantity,"x ",t.itemName)})))),c.a.createElement(d.a,{className:"text-right"},c.a.createElement("h3",null,"Build"),c.a.createElement(h.a,{variant:"flush"},n.build.map((function(t){return c.a.createElement(h.a.Item,null,t.name," | ",t.rarity)})))))))},X=function(){var t=function(t){var e=Object(a.useState)(!1),n=Object(s.a)(e,2),r=n[0],c=n[1],u=Object(a.useState)(),i=Object(s.a)(u,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(k.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,T(t);case 3:n=e.sent,l(n),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r||(c(!0),e())}),[]),[r,o]}(Object(l.g)().query.split("+").map((function(t){return[U[t.charAt(0)],Number(t.substring(1))]}))),e=Object(s.a)(t,2),n=e[0],r=e[1],u=n||!r?null:r.map((function(t,e){return c.a.createElement(V,{stepNum:e,step:t})}));return c.a.createElement("div",{className:"container"},u)},Y=function(){return c.a.createElement("div",{className:"App App-body"},c.a.createElement(o.a,null,c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/mhw-farmhand/"},c.a.createElement(L,null)),c.a.createElement(l.a,{path:"/mhw-farmhand/:query"},c.a.createElement(X,null)))))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Y,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.1bca8700.chunk.js.map